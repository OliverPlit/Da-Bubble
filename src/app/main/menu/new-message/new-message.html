<div class="main-container">
  <div class="header">
    <p>Neue Nachricht</p>

    <div class="input-chips">
      <!-- Chip direkt im Input -->
      <ng-container *ngFor="let person of selectedPeople">
        <span class="chip">
          <img class="avatar" [src]="'/icons/avatars/' + person.avatar" [alt]="person.name">
          <span class="name">{{ person.name }}</span>
          <span class="icon-box-remove" (click)="removePerson(person)">
            <img class="default" src="/icons/close.png" alt="">
            <img class="hover" src="/icons/close_purple.png" alt="">
          </span>
        </span>
      </ng-container>

      <!-- Input nur anzeigen, wenn noch keine Person ausgewÃ¤hlt -->
      <input *ngIf="selectedPeople.length === 0"
             type="text"
             placeholder="An: #channel, oder @jemand"
             [(ngModel)]="inputName"
             (input)="filterPeople()"
             (keydown)="onInputKeydown($event)">
    </div>

    <!-- Dropdown -->
    <div class="dropdown" *ngIf="search && filteredPeople.length > 0">
      <button class="option" *ngFor="let p of filteredPeople" (mousedown)="$event.preventDefault()" (click)="selectPerson(p)">
        <img class="avatar" [src]="'/icons/avatars/' + p.avatar" [alt]="p.name">
        <div class="meta">
          <div class="row">
            <span class="name">{{ p.name }}</span>
          </div>
        </div>
      </button>
    </div>

  </div>

  <footer class="composer">
    <div class="composer-input">
      <textarea></textarea>
      <div class="composer-actions">
        <div class="d-flex">
          <span class="icon-box" (click)="openAddEmojis()">
            <img class="default" src="icons/emoji_grey.png" alt="">
            <img class="hover1" src="icons/emoji_black.png" alt="">
            <img class="hover2" src="icons/emoji_purple.png" alt="">
          </span>
          <span class="icon-box" (click)="openAtMembers()">
            <img class="default" src="icons/at_grey.png" alt="">
            <img class="hover1" src="icons/at_black.png" alt="">
            <img class="hover2" src="icons/at_purple.png" alt="">
          </span>
        </div>
        <div>
          <span class="icon-box" (click)="sendMessage()">
            <img class="default" src="icons/Send icon.png" alt="">
            <img class="hover1" src="icons/Send icon_light.png" alt="">
          </span>
        </div>
      </div>
    </div>
  </footer>
</div>
