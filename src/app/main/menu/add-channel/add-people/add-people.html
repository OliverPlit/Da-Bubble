<div class="dialog">
    <div class="header">
        <h2>Leute hinzuf체gen</h2>
        <img src="/icons/close.png" alt="" (click)="closeDialog()">
    </div>

    <form #peopleForm="ngForm">
        <div class="checkboxen">
            <label>
                <input type="radio" name="option1" value="option1" (click)="onOptionChange('option1')"
                    [(ngModel)]="selectedOption">
                <span class="checkmark"></span>
                <p> Alle Mitglieder von DirectMessages ausw채hlen</p>
            </label>

            <label>
                <input type="radio" name="option2" value="option2" (click)="onOptionChange('option2')"
                    [(ngModel)]="selectedOption">
                <span class="checkmark"></span>
                <p> Bestimmte Leute hinzuf체gen</p>
            </label>

            <div class="error" *ngIf="!selectedOption">
                <p>Es muss eine Option ausgew채hlt sein</p>
            </div>

            <div *ngIf="showExtraFields" class="multi-select">

                <div class="input-wrapper">
                    <input class="input-name" type="text" placeholder="Name eingeben..." [(ngModel)]="inputName"
                        [ngModelOptions]="{standalone: true}" (input)="filterPeople()">
                </div>

                <div class="selected-list">
                    <div *ngFor="let person of selectedPeople" class="selected-person">
                        <img [src]="'/icons/avatars/' + person.avatar" alt="" class="avatar-small">

                        {{ person.name }} <img src="/icons/close.png" (click)="removePerson(person)" class="remove-btn">
                    </div>
                </div>

                <!-- Gefilterte Liste -->
                <div class="filtered-list" *ngIf="selectedOption === 'option2' 
       && inputName.length >= 1
       && filteredPeople.length > 0">
                    <div *ngFor="let person of filteredPeople" class="person-item" (click)="selectPerson(person)">
                        <span>{{ person.name }}</span>
                    </div>
                </div>

            </div>
            <div class="button-end">
                <button [disabled]="!isFormValid()" (click)="create()">Erstellen</button>
            </div>
        </div>